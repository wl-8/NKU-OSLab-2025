# 实验截图说明

本目录包含 GDB 调试页表查询过程实验的关键截图。

## 截图列表

### 1. 终端全景图
- **文件名**: `终端1.png`, `终端2.png`, `终端3.png`
- **说明**: 三个终端的完整截图
- **内容**:
  - 终端1: QEMU 运行 (make debug)
  - 终端2: GDB 附加到 QEMU 进程，调试源码
  - 终端3: riscv64-gdb 连接内核

### 2. 断点触发时的完整信息
- **文件名**: `终端2-断点触发时的完整信息.png`
- **说明**: 断点第一次触发时的信息
- **内容**: 函数名、参数、源码位置

### 3. 关键变量的打印
- **文件名**: `终端2-关键变量的打印.png`
- **说明**: 完整的调试会话，包含所有关键数据
- **内容**:
  - 虚拟地址: `0xffffffffc0200000`
  - SATP 寄存器: `0x8000000000080204`
  - 页表基址: `0x80204000`
  - 页表级数: `3`
  - PTE: `0x200000cf`
  - PPN: `0x80000`
  - 最终物理地址: `0x80200000`
  - 完整的单步执行过程

### 4. QEMU 源码位置
- **文件名**: `终端2-显示源码位置.png`, `终端2-源码位置.png`
- **说明**: 在 GDB 中使用 `list` 命令查看 QEMU 源码
- **内容**:
  - `cpu_helper.c` 第 155-162 行
  - `get_physical_address` 函数定义
  - 证明正在调试 QEMU 源码

### 5. 断点信息
- **文件名**: `info breakpoints.png`
- **说明**: 使用 `info breakpoints` 查看断点详细信息
- **内容**:
  - 断点编号、地址、源码位置
  - 条件: `addr > 0xffffffff00000000`
  - 触发次数: 2 次
  - 证明观察到了多次地址翻译

## 截图的实验价值

这些截图证明了：

1. ✅ **真实性**: 真实的调试会话，包含进程号、源码路径、调试命令
2. ✅ **完整性**: 从虚拟地址到物理地址的完整转换过程
3. ✅ **深度**: 深入到 QEMU 源码级别，观察软件模拟的地址翻译
4. ✅ **技术性**: 单步执行、变量查看、断点设置等高级调试技巧

### 6. ucore GDB 连接
- **文件名**: `终端3-ucore GDB 连接.png`
- **说明**: riscv64-gdb 连接到 QEMU 的 GDB stub
- **内容**: 远程调试连接信息，内核执行位置

## 截图在报告中的位置

- 图1 (终端2全景) → 第四章 4.1 节
- 图2 (断点触发) → 第四章 4.2 节 实例2
- 图3 (关键变量) → 第四章 4.2 节 实例2
- 图4 (源码位置) → 第三章 3.1 节
- 图5 (断点信息) → 第七章 7.3 节

---

**实验日期**: 2025-12-08
**实验环境**: QEMU 4.1.1 + ucore lab2 + RISC-V 64 SV39
